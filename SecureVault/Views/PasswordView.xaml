<UserControl x:Class="SecureVault.Views.PasswordView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:SecureVault.Converters"
             xmlns:helpers="clr-namespace:SecureVault.Helpers"
             Background="{StaticResource BackgroundBrush}">
    <UserControl.Resources>
        <converters:EmptyStringToVisibilityConverter x:Key="EmptyStringToVisibilityConverter"/>
    </UserControl.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Main Content -->
        <Grid Grid.Row="1" MaxWidth="400" Margin="40">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Logo/Title -->
            <StackPanel Grid.Row="0" Margin="0,0,0,30" HorizontalAlignment="Center">
                <TextBlock Text="🔒" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="SecureVault" 
                           FontSize="28" 
                           FontWeight="Bold" 
                           HorizontalAlignment="Center"
                           Foreground="{StaticResource PrimaryBrush}"/>
                <TextBlock Text="Enter your password to unlock the vault" 
                           FontSize="14" 
                           HorizontalAlignment="Center"
                           Foreground="{StaticResource TextBrush}"
                           Margin="0,5,0,0"/>
            </StackPanel>
            
            <!-- Password Input -->
            <StackPanel Grid.Row="1" Margin="0,0,0,20">
                <TextBlock Text="Password:" 
                           FontWeight="Medium" 
                           Margin="0,0,0,5"
                           Foreground="{StaticResource TextBrush}"/>
                <PasswordBox x:Name="PasswordBox"
                             Style="{StaticResource ModernPasswordBox}"
                             helpers:PasswordBoxHelper.BindPassword="True"
                             helpers:PasswordBoxHelper.BoundPassword="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             FontSize="14"
                             Height="40"/>
            </StackPanel>
            
            <!-- Error Message -->
            <TextBlock Grid.Row="2" 
                       Text="{Binding ErrorMessage}" 
                       Foreground="{StaticResource AccentBrush}"
                       FontSize="12"
                       TextWrapping="Wrap"
                       Margin="0,0,0,20"
                       Visibility="{Binding ErrorMessage, Converter={StaticResource EmptyStringToVisibilityConverter}}"/>
            
            <!-- Buttons -->
            <Grid Grid.Row="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0"
                        Content="Exit" 
                        Style="{StaticResource ModernButton}"
                        Background="Gray"
                        Height="40"
                        Command="{Binding ExitCommand}"/>
                
                <Button Grid.Column="2"
                        Content="Unlock Vault" 
                        Style="{StaticResource ModernButton}"
                        Height="40"
                        IsDefault="True"
                        Command="{Binding UnlockCommand}"/>
            </Grid>
            
            <!-- Info -->
            <TextBlock Grid.Row="4" 
                       Text="First time? Any password will create a new vault."
                       FontSize="11"
                       HorizontalAlignment="Center"
                       Foreground="Gray"
                       Margin="0,20,0,0"
                       TextWrapping="Wrap"/>
        </Grid>
        
        <!-- Background decoration -->
        <Grid Grid.RowSpan="3" IsHitTestVisible="False" Opacity="0.05">
            <TextBlock Text="🔐" 
                       FontSize="200" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Center"
                       Foreground="{StaticResource PrimaryBrush}"/>
        </Grid>
    </Grid>
</UserControl>
